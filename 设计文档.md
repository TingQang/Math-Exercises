# 考研数学一习题集与错题集LaTeX笔记设计文档

# 1. 项目概述

本项目是一套基于LaTeX构建的考研数学一习题集与错题集管理系统，核心采用"章-节-小节-题型-习题"的结构化组织方式，实现题目按知识点精准归类、难度分级可视化标注、题目来源追溯及错题专项复盘等核心功能。题型采用自定义命令进行标注，测试章节使用Problem和Answer环境，正文章节使用exercise和solution环境，测试章节的答案在本章最后一节打印，正文章节的答案在本书最后一章节统一打印。

**设计风格**：秉持简洁专业的习题集导向，聚焦习题核心呈现，精简冗余叙述性文字，最终输出包含封面、目录、正文、附录及参考文献的完整PDF文档，兼顾排版美观性与内容实用性。

## 1.1 可行性分析

### 1.1.1 技术可行性

- **宏包支撑**：选用成熟的xsim宏包作为核心架构，该宏包专为习题集场景设计，原生支持"习题-答案"全链路结构，具备强大的自定义配置与功能扩展能力。

- **中文适配**：基于ctex宏包搭建中文排版环境，完全符合中文文档阅读习惯，确保中文标题、正文、注释等内容的规范显示。

- **扩展灵活**：xsim宏包支持自定义命令与环境，可根据考研数学专属需求（如难度标注、考点匹配）进行针对性扩展。

- **社区保障**：作为主流LaTeX宏包，xsim拥有活跃的技术社区与丰富的官方文档，问题排查与功能迭代具备充足资源支撑。

### 1.1.2 功能可行性

- **多级结构实现**：xsim宏包的多级结构管理能力可直接适配"章-节-小节-题型-习题"的组织需求，无需复杂二次开发。

- **答案关联管理**：宏包内置solution环境，可实现习题与答案的精准关联，支持集中附后等呈现方式。

- **习题与答案分离**：题目与答案分开呈现，便于独立刷题与核对答案。

- **元数据管理**：通过自定义LaTeX命令可轻松实现习题来源、考查知识点、难度等级等元数据的标准化标注。

- **一题多解支持**：在solution环境内可灵活排版多种解题思路与方法，满足深度学习需求。

### 1.1.3 实现可行性

- **学习成本低**：xsim宏包语法简洁直观，具备基础LaTeX知识即可快速上手，开发周期可控。

- **兼容性良好**：支持现有LaTeX代码的逐步迁移，可基于原有习题内容快速搭建系统框架。

- **编译效率优**：宏包轻量化设计，不会显著增加文档编译时间，确保大篇幅习题集的编译流畅性。

## 1.2 笔记篇章结构

### 1.2.1 整体结构

```plaintext

封面页
├── 目录
├── 插图目录（可选）
├── 表格目录（可选）
├── 前言（ch00.tex）
├── 绪论（ch01.tex）
├── 测试章节（ch02.tex）
│   ├── 第1节 高等数学（section）
│   ├── 题型1：极限计算（\pt命令）
│   │   ├── 习题1（Problem环境）
│   │   ├── 习题2（Problem环境）
│   │   └── 习题3（Problem环境）
│   ├── 题型2：函数连续性（\pt命令）
│   │   ├── 习题1（Problem环境）
│   │   ├── 习题2（Problem环境）
│   │   └── 习题3（Problem环境）
│   ├── 题型3：导数计算（\pt命令）
│   │   ├── 习题1（Problem环境）
│   │   └── ...
│   ├── ...
│   ├── 第2节 线性代数（section）
│   ├── ...
│   ├── 第3节 概率论与数理统计（section）
│   ├── ...
│   └── 第4节 本章答案与解析（section）
│        ├── 习题1答案（Answer环境）
│        ├── 习题2答案（Answer环境）
│        └── ...
├── 正文部分
│   ├── 第3章 极限与连续（ch03.tex）
│   │   ├── 第3.1节 极限的定义与性质（section）
│   │   ├── 题型1：数列极限的计算（\pt命令）
│   │   │   ├── 习题1（exercise环境）
│   │   │   ├── 习题2（exercise环境）
│   │   │   └── ...
│   │   ├── 题型2：数列极限的性质（\pt命令）
│   │   │   ├── 习题1（exercise环境）
│   │   │   ├── 习题2（exercise环境）
│   │   │   └── ...
│   │   ├── 题型3：函数极限的计算（\pt命令）
│   │   │   ├── 习题1（exercise环境）
│   │   │   └── ...
│   │   ├── ...
│   │   ├── 第3.2节 函数的连续性（section）
│   │   └── ...
│   ├── 第4章 导数与微分（ch04.tex）
│   │   ├── ...
│   │   └── ...
│   └── ...
├── 第10章 答案与解析（ch10.tex）
│   ├── 第10.1节 第3章答案与解析（section）
│   │   ├── 习题1答案（solution环境）
│   │   ├── 习题2答案（solution环境）
│   │   └── ...
│   ├── 第10.2节 第4章答案与解析（section）
│   │   ├── ...
│   │   └── ...
│   └── ...
├── 附录（ch99.tex）
└── 参考文献
```

### 1.2.2 章节内部结构

- **考点说明**：每个大章节开篇设置考点总结，明确本章核心考查内容与命题趋势。

- **小节划分**：每个大章节按知识点细分多个小节，每个小节对应一个Section层级。

- **题型归类**：每个Section下按题型维度拆分，每个题型用项目中的自定义命令\pt标注，每个题型对应多个习题，测试章节的习题使用Problem环境，正文章节的习题使用exercise环境。

- **习题要素**：每道习题包含题型编号、难度等级、题目内容、来源标注、考查知识点、解题提示等核心要素。

- **答案解析**：测试章节的答案在本章最后一节用Answer环境打印，正文章节的答案在本书最后一章节用solution环境统一打印，每个solution环境对应一道习题，包含详细解题过程与易错点分析。

### 1.2.3 正文各章节文件命名规范

|章节类型|文件名|说明|
|---|---|---|
|前言|ch00.tex|介绍笔记编写目的、使用方法、核心特色等|
|绪论|ch01.tex|梳理考研数学一学科框架、学习方法、备考规划等|
|测试章节|ch02.tex|验证文档格式、功能兼容性（如公式排版、图片插入等）|
|正文章节1|ch03.tex|第一个正文大章节（如"极限与连续"）|
|正文章节2|ch04.tex|第二个正文大章节（如"导数与微分"）|
|...|...|后续正文章节，按知识点顺序依次命名|
|答案与解析|ch10.tex|所有正文章节的答案与解析|
|附录|ch99.tex|包含常用公式表、符号说明、错题复盘模板等附加内容|
### 1.2.4 习题与答案的关联规则

- 测试章节中，每道习题使用独立的Problem环境，每个Problem环境只包含一道习题，答案使用对应的Answer环境，按顺序一一对应，采用"一题一答"模式。

- 正文章节中，每道习题使用独立的exercise环境，每个exercise环境只包含一道习题，答案使用对应的solution环境，按顺序一一对应，采用"一题一答"模式。

- 测试章节的答案在本章最后一节统一打印，正文章节的答案在本书最后一章节统一打印。

# 2. 技术架构

## 2.1 LaTeX环境配置

- **编译引擎**：XeLaTeX（最优中文排版支持，确保中文显示无乱码）。

- **核心依赖**：ctex（中文支持）、xsim（习题与答案管理核心）。

- **辅助工具**：TikZ + shapes.geometric（矢量图形绘制）、xcolor（颜色管理）、geometry（页面布局）、etoolbox（钩子函数与条件判断）、titlesec（标题格式）。

## 2.2 核心宏包依赖清单

```latex

% 基础文档与中文支持
ctex              % 中文支持核心宏包
anyfontsize       % 任意字体大小调整

% 页面布局
geometry          % 页面边距与布局控制
titlesec          % 标题格式自定义

% 数学公式支持
amsmath, amssymb, amsfonts  % AMS标准数学宏包（移除amsthm）
mathtools         % 增强型数学工具（含公式对齐、符号扩展等）
bm                % 数学符号粗体
cases             % 多行分段函数
siunitx           % 单位与数字
cancel            % 取消线
esint             % 提供标准的三重积分符号

% 习题管理（核心宏包）
xsim              % 习题与答案的组织、编号、关联管理

% 图形与颜色
graphicx          % 图片插入与缩放
caption           % 支持\captionof命令
tcolorbox         % 彩色框体与定理环境
tikz              % 矢量图形绘制
xcolor            % 颜色定义与调用
pgffor            % 循环语句支持

% 排版与列表
enumitem          % 列表样式自定义

etoolbox          % 工具宏包

% 超链接与引用
hyperref          % 基本超链接支持
cleveref          % 智能引用

% 表格支持
booktabs          % 专业表格线条样式
multirow, multicol  % 表格跨行跨列
array             % 表格列格式扩展
makecell          % 表格单元格
longtable         % 跨页长表格支持

% 参考文献
biblatex          % 参考文献管理（支持GB7714-2015格式）
```

## 2.3 宏包功能说明表

|宏包名称|主要功能|应用场景|
|---|---|---|
xsim|习题/答案组织、自动编号、关联管理|实现习题与答案的组织、编号、关联管理，支持自定义配置|
ctex|中文编码支持、中文排版规范|确保中文标题、正文、注释等内容正确显示，符合中文阅读习惯|
amsmath|复杂数学公式排版、符号支持|极限、积分、矩阵等考研数学核心公式的编写|
mathtools|增强型数学工具|公式对齐、符号扩展、自定义运算符等|
tcolorbox|彩色框体、定理环境、可折行框|创建考点提示框、错题分析框、定理/定义专属环境|
tikz|矢量图形绘制、示意图生成|绘制积分区域、函数图像、矩阵变换示意图等数学图形|
xcolor|颜色定义、颜色调用|实现难度等级彩色标注、重点内容高亮|
hyperref|超链接生成、锚点管理|实现基本超链接功能|
cleveref|智能引用、标签类型自动识别|引用习题、图表时自动添加"题""图""表"前缀|
booktabs|专业表格线条（粗线、细线、虚线）|制作考研数学中的分布律表格、公式对比表等|
etoolbox|钩子函数、条件判断、计数器操作|实现各种条件判断与计数器操作|
titlesec|标题格式自定义|自定义章节标题格式|
siunitx|单位与数字|单位与数字的格式化输出|
cancel|取消线|在公式中添加取消线|
esint|标准积分符号|提供标准的三重积分符号|

## 2.4 构建系统设计

- **构建目录**：专设build/目录，统一存放所有编译中间文件（如.aux、.log）与最终PDF输出文件。

- **输出规范**：最终生成的PDF文件固定命名为main.pdf，存放于build/目录下。

- **缓存管理**：通过.gitignore文件配置，忽略build/目录下的所有编译产物，避免版本控制冗余。

- **自动化构建**：支持latexmk一键编译，自动处理多轮编译依赖（如目录、参考文献更新）。

- **清理规则**：执行make clean命令时，自动清空build/目录及根目录下的所有编译中间文件。

## 2.5 代码变更流程

1. **可行性分析**：新增功能或修改现有功能前，需先评估技术可行性与兼容性。

2. **设计文档更新**：功能方案确定后，先同步更新本设计文档，明确变更内容与实现方式。

3. **代码实现**：严格按照设计文档规范编写代码，确保与整体架构兼容。

4. **测试验证**：代码实现后，编译文档验证功能有效性、格式规范性。

5. **文档同步**：代码变更稳定后，再次核对设计文档，确保文档与实际代码一致。

# 3. 核心功能设计

## 3.1 难度标注系统

设计1-5级难度可视化标注，通过彩色方块直观区分难度等级，具体实现代码如下：

```latex

% 难度标注核心命令
\newcommand{\difficulty}[1]{%
    【
    \ifnum#1=1
        \tikz{\node[fill=difficulty-1, draw=difficulty-1, minimum size=0.3em, inner sep=0, outer sep=0] {};}
        \tikz{\node[draw=difficulty-1, minimum size=0.3em, inner sep=0, outer sep=0] {};}
        \tikz{\node[draw=difficulty-1, minimum size=0.3em, inner sep=0, outer sep=0] {};}
        \tikz{\node[draw=difficulty-1, minimum size=0.3em, inner sep=0, outer sep=0] {};}
        \tikz{\node[draw=difficulty-1, minimum size=0.3em, inner sep=0, outer sep=0] {};}
    \else\ifnum#1=2
        \tikz{\node[fill=difficulty-2, draw=difficulty-2, minimum size=0.3em, inner sep=0, outer sep=0] {};}
        \tikz{\node[fill=difficulty-2, draw=difficulty-2, minimum size=0.3em, inner sep=0, outer sep=0] {};}
        \tikz{\node[draw=difficulty-2, minimum size=0.3em, inner sep=0, outer sep=0] {};}
        \tikz{\node[draw=difficulty-2, minimum size=0.3em, inner sep=0, outer sep=0] {};}
        \tikz{\node[draw=difficulty-2, minimum size=0.3em, inner sep=0, outer sep=0] {};}
    \else\ifnum#1=3
        \tikz{\node[fill=difficulty-3, draw=difficulty-3, minimum size=0.3em, inner sep=0, outer sep=0] {};}
        \tikz{\node[fill=difficulty-3, draw=difficulty-3, minimum size=0.3em, inner sep=0, outer sep=0] {};}
        \tikz{\node[fill=difficulty-3, draw=difficulty-3, minimum size=0.3em, inner sep=0, outer sep=0] {};}
        \tikz{\node[draw=difficulty-3, minimum size=0.3em, inner sep=0, outer sep=0] {};}
        \tikz{\node[draw=difficulty-3, minimum size=0.3em, inner sep=0, outer sep=0] {};}
    \else\ifnum#1=4
        \tikz{\node[fill=difficulty-4, draw=difficulty-4, minimum size=0.3em, inner sep=0, outer sep=0] {};}
        \tikz{\node[fill=difficulty-4, draw=difficulty-4, minimum size=0.3em, inner sep=0, outer sep=0] {};}
        \tikz{\node[fill=difficulty-4, draw=difficulty-4, minimum size=0.3em, inner sep=0, outer sep=0] {};}
        \tikz{\node[fill=difficulty-4, draw=difficulty-4, minimum size=0.3em, inner sep=0, outer sep=0] {};}
        \tikz{\node[draw=difficulty-4, minimum size=0.3em, inner sep=0, outer sep=0] {};}
    \else
        \tikz{\node[fill=difficulty-5, draw=difficulty-5, minimum size=0.3em, inner sep=0, outer sep=0] {};}
        \tikz{\node[fill=difficulty-5, draw=difficulty-5, minimum size=0.3em, inner sep=0, outer sep=0] {};}
        \tikz{\node[fill=difficulty-5, draw=difficulty-5, minimum size=0.3em, inner sep=0, outer sep=0] {};}
        \tikz{\node[fill=difficulty-5, draw=difficulty-5, minimum size=0.3em, inner sep=0, outer sep=0] {};}
        \tikz{\node[fill=difficulty-5, draw=difficulty-5, minimum size=0.3em, inner sep=0, outer sep=0] {};}
    \fi\fi\fi\fi
    】
}
% 简写版本，便于快速调用
\newcommand{\exercisestar}[1]{\difficulty{#1}} % 简写：\exercisestar{难度等级}
```

系统特性说明：

- 难度等级：支持1（最简单）-5（最难）级划分，适配考研数学基础题、中等题、难题的分类需求。

- 可视化设计：用5个方块表示难度，已填充方块数量对应难度等级，未填充方块显示为轮廓。

- 颜色体系：采用渐变颜色区分难度，从绿色（1级）→蓝色（2级）→橙色（3级）→红色（4级）→紫色（5级）。

- 使用规范：习题应用时，需先标注难度，再编写题目内容，格式示例：\begin{exercise}\difficulty{2} 题目内容...\end{exercise}

## 3.2 习题信息标注命令

设计专属命令实现习题核心信息的标准化标注，具体如下：

- `\keypoint{考点}`：标注习题考查的核心考点，红色加粗显示，格式示例：\keypoint{等价无穷小替换}。

- `\important{重点}`：标注习题对应的重点知识点，蓝色加粗显示，格式示例：\important{洛必达法则适用条件}。

- `\exercisesource{来源}`：标注题目来源（如真题年份、辅导书名称），灰色显示，格式示例：\exercisesource{考研数学一·2020}。

- `\matchexampoint{考点}`：标注题目与章节考点的匹配关系，蓝色显示，格式示例：\matchexampoint{极限计算核心考点}。

- `\exercisetip{提示}`：提供解题思路提示，橙色显示，格式示例：\exercisetip{可先化简分母再用等价无穷小替换}。

- `\multiplesolution{解法}`：标注一题多解的解法名称，橙色显示，格式示例：\multiplesolution{解法一：夹逼准则}。

## 3.3 专用环境设计

基于xsim官方宏包，设计考研习题专用环境，满足习题集的排版需求。

### 3.3.1 核心逻辑

- **习题管理**：每个`exercise`环境对应一道习题
- **答案绑定**：每个`solution`环境对应一道习题的答案，按顺序一一对应
- **编号规则**：习题编号按章节内顺序自动生成，格式为「【X】」
- **简化配置**：采用极简xsim配置，避免复杂设置导致的编译问题

### 3.3.2 考研习题专用环境

- `Problem`：测试章节专用习题环境，用于测试章节的习题组织管理。

- `Answer`：测试章节专用答案环境，用于测试章节的答案组织管理。

- `exercise`：正文章节专用习题环境，用于正文章节的习题组织管理，基于xsim官方宏包。

- `solution`：正文章节专用答案环境，用于正文章节的答案组织管理，基于xsim官方宏包。

# 4. 文件结构设计

采用模块化目录结构，按"配置-内容-资源-脚本-输出"分类管理文件，确保项目结构清晰、可维护性强，具体目录结构如下：

```plaintext

Math-Exercises/
├── main.tex              # 主文档入口（整合所有配置与内容）
├── references.bib        # 参考文献数据库（支持GB7714-2015格式）
├── README.md             # 项目使用说明（含环境配置、编译步骤）
├── 设计文档.md           # 本设计文档
├── config/                  # 配置文件目录（集中管理样式与命令）
│   ├── packages.tex         # 宏包加载（统一管理所有依赖宏包）
│   ├── colors.tex           # 颜色配置（定义主题色、难度色等）
│   ├── styles.tex           # 样式配置（页面布局、标题格式等）
│   ├── commands.tex         # 自定义命令（数学符号、标注命令等）
│   └── environments.tex     # 环境定义（定理类、习题类环境）
├── content/                 # 内容文件目录（按章节组织习题内容）
│   ├── ch00.tex             # 前言
│   ├── ch01.tex             # 第1章：绪论
│   ├── ch02.tex             # 第2章：测试章节
│   ├── ch03.tex             # 第3章：极限与连续
│   ├── ch04.tex             # 第4章：导数与积分
│   ├── ch05.tex             # 第5章：函数的极限
│   ├── ch06.tex             # 第6章：级数
│   ├── ch07.tex             # 第7章：微分方程
│   ├── ch08.tex             # 第8章：空间解析几何
│   ├── ch09.tex             # 第9章：多元函数微分学
│   ├── ch10.tex             # 第10章：重积分
│   └── ch99.tex             # 附录
├── figures/                 # 矢量图资源目录（存放数学示意图、图表等）
├── images/                  # 图片资源目录（存放数学示意图、图表等）
├── Makefile                 # 构建脚本（支持make编译、make clean清理）
├── 使用说明.md              # 详细使用指南（面向用户的操作说明）
├── 需求分析.md              # 需求分析文档（项目功能与目标梳理）
├── 项目问题与解决方案.md      # 项目开发过程中的问题与解决思路
├── 项目合规性测试文档.md      # 文档格式、功能兼容性测试记录
├── .gitignore              # Git忽略文件配置
└── build/                   # 编译输出目录（存放中间文件与最终PDF）
    ├── main.pdf             # 生成的PDF文档（最终产物）
    └── *.aux, *.log, *.toc 等其他中间文件
```

# 5. VS Code开发环境配置

基于LaTeX Workshop插件优化开发环境，实现自动化编译、实时预览、反向搜索等功能，提升开发效率。

## 5.1 LaTeX Workshop插件配置

通过.vscode/settings.json文件进行配置，具体配置内容如下：

```jsonc

{
    "latex-workshop.latex.tools": [
        {
            "name": "latexmk",
            "command": "latexmk",
            "args": [
                "-xelatex",          // 使用XeLaTeX编译引擎（中文支持最优）
                "-synctex=1",        // 开启同步功能（正向/反向搜索）
                "-interaction=nonstopmode",  // 非停止模式（遇到错误继续编译）
                "-file-line-error",  // 显示错误的文件与行号
                "-shell-escape",     // 允许shell命令（支持图片生成等功能）
                "-outdir=./build",   // 输出目录指定为build/
                "%DOC%"              // 待编译的主文档
            ]
        }
    ],
    
    "latex-workshop.latex.recipes": [
        {
            "name": "latexmk",
            "tools": ["latexmk"]  // 使用上述定义的latexmk工具进行编译
        }
    ],
    
    "latex-workshop.latex.autoBuild.run": "onFileChange",  // 文件保存时自动编译
    "latex-workshop.latex.clean.fileTypes": [  // 清理的文件类型
        "*.aux", "*.bbl", "*.blg", "*.bcf", "*.run.xml",
        "*.synctex.gz", "*.log", "*.out", "*.toc",
        "*.lof", "*.lot", "*.fmt", "*.fot", "*.fdb_latexmk", "*.fls"
    ],
    
    // ============ PDF 查看器配置 ============
    "latex-workshop.view.pdf.viewer": "tab",  // 在VS Code标签页中预览PDF
    "latex-workshop.view.pdf.tab.viewer": "webview",  // 使用webview预览
    "latex-workshop.view.pdf.webview.enabled": true,  // 启用webview预览
    "latex-workshop.view.pdf.webview.panel": "split",  // 分栏显示（代码+PDF）
    "latex-workshop.view.pdf.webview.openExternal": false,  // 不打开外部浏览器
    
    // ============ 反向搜索配置 ============
    "latex-workshop.view.pdf.internal.synctex.keybinding": "double-click",  // 双击PDF跳转至代码
    "latex-workshop.view.pdf.internal.synctex.enabled": true,  // 启用反向搜索
    
    // 同步配置：编译后自动同步PDF与代码
    "latex-workshop.synctex.afterBuild.enabled": true,
    
    // 输出目录：指定编译产物存放路径
    "latex-workshop.latex.outDir": "./build",
    
    // 性能优化：忽略不必要的文件监控
    "latex-workshop.latex.watch.files.ignore": [
        "${workspaceFolder}/build/**",
        "${workspaceFolder}/.git/**"
    ],
    
    // 性能与兼容：关闭缓存（避免旧版本内容干扰）
    "latex-workshop.cache.enabled": false,
    
    // 拼写检查词典：添加LaTeX专属词汇（避免拼写错误提示）
    "cSpell.words": [
        "amsthm", "biber", "biblatex", "breaklines", "Consolas",
        "gbpub", "htbp", "kaoyan", "latexmk", "lstlisting",
        "lstset", "pdfauthor", "pdfsubject", "stringstyle",
        "synctex", "tcolorbox", "xelatex"
    ],
    
    // LaTeX编辑器配置：优化代码编辑体验
    "[latex]": {
        "editor.wordWrapColumn": 160,  // 自动换行列数
        "editor.wordWrap": "bounded",  // 有限制的自动换行
        "editor.rulers": [160]         // 显示标尺线（160列）
    },
    
    // 文件关联：将.tex文件关联到LaTeX编辑器
    "files.associations": {
        "*.pdf": "pdf",
        "*.tex": "latex"
    }
}
```

## 5.2 配置说明

- **编译工具**：选用latexmk+XeLaTeX组合，既保证中文排版效果，又能自动处理多轮编译依赖（如目录更新、参考文献关联）。

- **输出管理**：所有编译产物统一存放于build/目录，避免根目录文件混乱，便于清理与版本控制。

- **自动化功能**：开启"文件保存自动编译"，无需手动触发编译，实时查看排版效果；支持双击PDF反向跳转至对应代码行，便于定位修改。

- **性能优化**：通过忽略build/和.git/目录的文件监控，减少插件资源占用，提升编辑流畅性；关闭缓存避免旧版本内容干扰。

- **编辑体验**：配置自动换行、标尺线等，优化LaTeX代码编辑体验；添加LaTeX专属词汇到拼写检查词典，避免误报拼写错误。

# 6. 模块化配置说明

采用模块化配置设计，将宏包加载、颜色定义、样式设置、命令定义、环境定义拆分到独立文件，便于统一管理与灵活调整。

## 6.1 配置文件结构

### 6.1.1 packages.tex（宏包加载配置）

集中加载所有依赖宏包，便于统一管理宏包版本与加载顺序，核心代码如下：

```latex

% 第一部分：编码与字体
\usepackage[UTF8]{ctex}                      % 中文支持
\usepackage{anyfontsize}                     % 任意字体大小

% 第二部分：页面布局
\usepackage[
    a4paper,
    left=3cm,               % 左侧边距
    right=2.5cm,
    top=2.5cm,
    bottom=2.5cm,
    headheight=15pt,
    headsep=1cm,            % 页眉与正文间距
    footskip=1cm,           % 页脚与正文间距
    marginparwidth=0cm,     % 移除边注
    marginparsep=0cm
]{geometry}

% 第三部分：数学宏包
\usepackage{amsmath, amssymb, amsfonts}  % AMS数学基础（移除amsthm）
\usepackage{mathtools}                           % 增强数学工具
\usepackage{bm}                                  % 粗体数学符号
\usepackage{cases}                               % 多行公式
\usepackage{siunitx}                             % 单位与数字
\usepackage{cancel}                              % 取消线
\usepackage{esint}                                % 提供标准的三重积分符号

% 第四部分：图形与颜色
\usepackage{graphicx}                    % 图片插入
\usepackage{caption}                     % 支持\captionof命令
\usepackage{tcolorbox}                   % 彩色框体与定理环境（可折行、自定义样式）
\tcbuselibrary{most, breakable, skins}   % 加载tcolorbox扩展库（增强功能）
\usepackage{tikz}                        % 矢量图形绘制
\usetikzlibrary{shapes.geometric}
\usetikzlibrary{svg.path}
\usepackage[dvipsnames, svgnames, x11names]{xcolor}  % 颜色，添加选项以确保所有颜色命令都能正确定义
\usepackage{pgffor}                      % 循环

% 第五部分：排版与工具
\usepackage{etoolbox}                    % 工具宏包
\usepackage{enumitem}                    % 列表控制
% 修复section标题对齐问题并调整格式
\usepackage{titlesec}
\titleformat{\section}[hang]{\bfseries\large}{\thesection}{1em}{}

% 设置subsection标题为1,2,3形式并居中对齐
\titleformat{\subsection}[block]{\bfseries\centering}{\arabic{subsection}}{1em}{}
% 加载xsim宏包用于习题与答案管理
\usepackage{xsim}
% 配置xsim参数
%自定义Answer标题模板
\DeclareExerciseHeadingTemplate{kaoyan-daan}{
    \noindent\textbf{参考答案}\centering
    \par
}
\xsimsetup{
  exercise/name = {},
  solution/name = {},
  solution/print = false,% 打印解决方案
  exercise/heading = {},
  solution/heading = {},
  print-solutions/headings=true,
  print-solutions/headings-template=kaoyan-daan,
  print-solutions/process-heading=false
}
%重定义题号
\renewcommand{\theexercise}{【\arabic{exercise}】}
\renewcommand{\thesolution}{【\arabic{solution}】}  

\usepackage{hyperref}                    % 超链接
\usepackage{booktabs}                    % 专业表格
\usepackage{multirow, multicol}          % 表格与多列
\usepackage{array}                       % 数组扩展
\usepackage{makecell}                    % 表格单元格
\usepackage{longtable}                   % 长表格

% 第六部分：页面样式
\usepackage{fancyhdr}                    % 页眉页脚
\usepackage{titletoc}                    % 目录格式
\usepackage{appendix}                    % 附录

% 第七部分：参考文献
\usepackage[backend=biber, style=gb7714-2015, gbpub=false]{biblatex}

% 第八部分：引用与链接（放在最后加载）
\usepackage{cleveref}                    % 智能引用
```

### 6.1.2 colors.tex（颜色配置）

定义项目专属颜色体系，包括主题色、难度等级色等，便于统一视觉风格，核心代码如下：

```latex

% 考研专属主题色（用于标题、重点内容）
\definecolor{kaoyan-blue}{RGB}{0, 102, 204}    % 主蓝色（章节标题、重点标注）
\definecolor{kaoyan-red}{RGB}{204, 51, 0}      % 主红色（考点标注、错误提示）
\definecolor{kaoyan-green}{RGB}{0, 153, 0}     % 主绿色（基础题、正确提示）
\definecolor{kaoyan-orange}{RGB}{255, 153, 0}  % 主橙色（提示、解法标注）
\definecolor{kaoyan-gray}{RGB}{245, 245, 245}  % 浅灰色（背景、次要内容）
\definecolor{kaoyan-purple}{RGB}{102, 0, 153}  % 紫色（难题、特殊标注）

% 习题难度等级颜色（对应1-5级难度）
\definecolor{difficulty-1}{RGB}{0, 153, 0}     % 1级难度（绿色：基础题）
\definecolor{difficulty-2}{RGB}{0, 102, 204}   % 2级难度（蓝色：简单中等题）
\definecolor{difficulty-3}{RGB}{255, 153, 0}   % 3级难度（橙色：中等题）
\definecolor{difficulty-4}{RGB}{204, 51, 0}    % 4级难度（红色：较难题）
\definecolor{difficulty-5}{RGB}{102, 0, 153}   % 5级难度（紫色：难题）

% 辅助颜色（用于边框、背景等）
\definecolor{border-light}{RGB}{220, 220, 220} % 浅色边框（定理环境、提示框）
\definecolor{background-light}{RGB}{250, 250, 250} % 浅色背景（习题区域）
```

### 6.1.3 styles.tex（样式配置）

配置页面布局、标题格式、段落样式等，确保文档排版美观统一，核心代码如下：

```latex

% 页面布局精细化配置
\geometry{
    a4paper,               % 纸张尺寸：A4
    left=3cm,              % 左页边距
    right=2.5cm,           % 右页边距
    top=2.5cm,             % 上页边距
    bottom=2.5cm,          % 下页边距
    headheight=15pt,       % 页眉高度
    headsep=1cm,           % 页眉与正文间距
    footskip=1cm,          % 页脚与正文间距
    marginparwidth=1.5cm,  % 页边注宽度（预留）
    marginparsep=0.5cm     % 页边注与正文间距
}

% 段落格式配置
\setlength{\parindent}{2em}      % 首行缩进2字符
\setlength{\parskip}{0.5em}      % 段落间距0.5em

% 页眉页脚设置
\pagestyle{plain}

% 章节标题样式优化
% 保持居中、加粗的基础样式，优化字体字号和间距
\titleformat{\section}[hang]{\bfseries\zihao{3}}{\textcolor{kaoyan-blue}{\thesection}}{1em}{}
\titlespacing*{\section}{0pt}{30pt}{20pt}

\titleformat{\subsection}[block]{\bfseries\zihao{4}\centering}{\textcolor{kaoyan-blue}{\arabic{subsection}}}{1em}{}
\titlespacing*{\subsection}{0pt}{25pt}{15pt}

\titleformat{\subsubsection}[block]{\bfseries\zihao{5}\centering}{\textcolor{kaoyan-blue}{(\arabic{subsubsection})}}{1em}{}
\titlespacing*{\subsubsection}{0pt}{20pt}{10pt}

% 目录样式优化
\usepackage{tocloft}
\renewcommand{\cftchapfont}{\bfseries\zihao{3}}
\renewcommand{\cftchappagefont}{\bfseries\zihao{3}}
\renewcommand{\cftchapafterpnum}{\par}
\renewcommand{\cftchapdotsep}{\cftdotsep}

\renewcommand{\cftsecfont}{\zihao{4}}
\renewcommand{\cftsecpagefont}{\zihao{4}}
\renewcommand{\cftsecafterpnum}{\par}
\renewcommand{\cftsecdotsep}{\cftdotsep}

\renewcommand{\cftsubsecfont}{\zihao{5}}
\renewcommand{\cftsubsecpagefont}{\zihao{5}}
\renewcommand{\cftsubsecafterpnum}{\par}
\renewcommand{\cftsubsecdotsep}{\cftdotsep}

\setlength{\cftbeforechapskip}{15pt}
\setlength{\cftbeforesecskip}{10pt}
\setlength{\cftbeforesubsecskip}{8pt}

% 设置目录标题样式
\renewcommand{\contentsname}{\centering\bfseries\zihao{2}\textcolor{kaoyan-blue}{目录}}

% 超链接设置
\hypersetup{
    colorlinks=true,
    linkcolor=kaoyan-blue,
    citecolor=kaoyan-green,
    filecolor=magenta,
    urlcolor=kaoyan-orange,
    linktoc=all,
    bookmarksopen=true,
    pdftitle={考研数学笔记},
    pdfauthor={你的名字},
    pdfsubject={考研数学复习资料}
}

% 列表格式设置
\setlist[enumerate]{
    topsep=0pt,
    itemsep=0pt,
    parsep=0pt,
    label=\textcolor{kaoyan-blue}{\arabic*.}),
    leftmargin=2em
}

\setlist[itemize]{
    topsep=0pt,
    itemsep=0pt,
    parsep=0pt,
    label=\textcolor{kaoyan-blue}{$\bullet$},
    leftmargin=2em
}

% 表格设置
\setlength{\heavyrulewidth}{0.12em}
\setlength{\lightrulewidth}{0.05em}
\renewcommand{\arraystretch}{1.2}

% 计数器设置
% 公式编号带章节号
\numberwithin{equation}{chapter}

% 图片表格编号带章节号
\renewcommand{\thefigure}{\thechapter-\arabic{figure}}
\renewcommand{\thetable}{\thechapter-\arabic{table}}

% 重置计数器
\AtBeginDocument{
    \setcounter{chapter}{0}
    \setcounter{section}{0}
}

% 编译输出目录配置（指定所有编译产物输出至./build文件夹）
\makeatletter
\def\output@path{./build/}  % 核心配置：设置编译输出路径为./build
\makeatother
```

### 6.1.4 commands.tex（自定义命令配置）

定义各类自定义命令，包括数学符号、习题标注、公式格式化等，核心代码如下：

```latex

% 1. 数学符号快捷命令
\newcommand{\R}{\mathbb{R}}          % 实数集
\newcommand{\N}{\mathbb{N}}          % 自然数集
\newcommand{\Z}{\mathbb{Z}}          % 整数集
\newcommand{\Q}{\mathbb{Q}}          % 有理数集
\newcommand{\C}{\mathbb{C}}          % 复数集
\renewcommand{\P}{\mathbb{P}}        % 概率
\newcommand{\E}{\mathbb{E}}          % 期望

% 2. 微分与导数
\newcommand{\ddme}{\mathrm{d}}         % 微分符号
\newcommand{\pd}{\partial}           % 偏导符号
\newcommand{\pder}[2]{\frac{\partial #1}{\partial #2}}  % 偏导数
\newcommand{\gradme}{\nabla}           % 梯度
\newcommand{\diver}{\operatorname{div}} % 散度

% 3. 极限与积分
% 极限符号，行内公式中使用imits确保下标在正下方
\newcommand{\Llim}{\lim\limits} % 带imits的极限符号，用于行内公式
\newcommand{\Lint}{\int\limits} % 带imits的积分符号，用于行内公式
\newcommand{\Liint}{\iint\limits} % 带imits的二重积分符号
\newcommand{\Liiint}{\iiint\limits} % 带imits的三重积分符号
\newcommand{\Loint}{\oint\limits} % 带imits的曲线积分符号


% 恢复常用的极限快捷命令
\newcommand{\limn}{\Llim_{n\to\infty}}      % n→∞
\newcommand{\limx}{\Llim_{x\to\infty}}      % x→∞
\newcommand{\limxa}{\Llim_{x\to a}}         % x→a（通用）
\newcommand{\limxzero}{\Llim_{x\to 0}}         % x→0（常用）
\newcommand{\limxone}{\Llim_{x\to 1}}         % x→1（常用）
\newcommand{\limxinf}{\Llim_{x\to +\infty}} % x→+∞
\newcommand{\limxminf}{\Llim_{x\to -\infty}} % x→-∞

% 4. 矩阵与向量
\newcommand{\mat}[1]{\begin{pmatrix} #1 \end{pmatrix}}      % 圆括号矩阵
\newcommand{\bmat}[1]{\begin{bmatrix} #1 \end{bmatrix}}     % 方括号矩阵
\newcommand{\absme}[1]{\left| #1 \right|}                     % 绝对值
\newcommand{\normme}[1]{\left\| #1 \right\|}                  % 范数

% 5. 概率与统计
\newcommand{\Var}{\operatorname{Var}}    % 方差
\newcommand{\Cov}{\operatorname{Cov}}    % 协方差

% 6. 快捷输入
\newcommand{\dx}{\,\mathrm{d}x}          % 积分微元
\newcommand{\dy}{\,\mathrm{d}y}
\newcommand{\dz}{\,\mathrm{d}z}          % 积分微元z
\newcommand{\dt}{\,\mathrm{d}t}
\newcommand{\const}{\text{const}}        % 常数

% 7. 考点与习题专用命令
\newcommand{\keypoint}[1]{\textbf{\textcolor{kaoyan-red}{【考点】#1}}}
\newcommand{\important}[1]{\textbf{\textcolor{kaoyan-blue}{【重点】#1}}}

% 难度标注系统 - 基于TikZ的彩色方块标注
\newcommand{\difficulty}[1]{%
    【
    \ifnum#1=1
        \tikz{\node[fill=difficulty-1, draw=difficulty-1, minimum size=0.3em, inner sep=0, outer sep=0] {};}
        \tikz{\node[draw=difficulty-1, minimum size=0.3em, inner sep=0, outer sep=0] {};}
        \tikz{\node[draw=difficulty-1, minimum size=0.3em, inner sep=0, outer sep=0] {};}
        \tikz{\node[draw=difficulty-1, minimum size=0.3em, inner sep=0, outer sep=0] {};}
        \tikz{\node[draw=difficulty-1, minimum size=0.3em, inner sep=0, outer sep=0] {};}
    \else\ifnum#1=2
        \tikz{\node[fill=difficulty-2, draw=difficulty-2, minimum size=0.3em, inner sep=0, outer sep=0] {};}
        \tikz{\node[fill=difficulty-2, draw=difficulty-2, minimum size=0.3em, inner sep=0, outer sep=0] {};}
        \tikz{\node[draw=difficulty-2, minimum size=0.3em, inner sep=0, outer sep=0] {};}
        \tikz{\node[draw=difficulty-2, minimum size=0.3em, inner sep=0, outer sep=0] {};}
        \tikz{\node[draw=difficulty-2, minimum size=0.3em, inner sep=0, outer sep=0] {};}
    \else\ifnum#1=3
        \tikz{\node[fill=difficulty-3, draw=difficulty-3, minimum size=0.3em, inner sep=0, outer sep=0] {};}
        \tikz{\node[fill=difficulty-3, draw=difficulty-3, minimum size=0.3em, inner sep=0, outer sep=0] {};}
        \tikz{\node[fill=difficulty-3, draw=difficulty-3, minimum size=0.3em, inner sep=0, outer sep=0] {};}
        \tikz{\node[draw=difficulty-3, minimum size=0.3em, inner sep=0, outer sep=0] {};}
        \tikz{\node[draw=difficulty-3, minimum size=0.3em, inner sep=0, outer sep=0] {};}
    \else\ifnum#1=4
        \tikz{\node[fill=difficulty-4, draw=difficulty-4, minimum size=0.3em, inner sep=0, outer sep=0] {};}
        \tikz{\node[fill=difficulty-4, draw=difficulty-4, minimum size=0.3em, inner sep=0, outer sep=0] {};}
        \tikz{\node[fill=difficulty-4, draw=difficulty-4, minimum size=0.3em, inner sep=0, outer sep=0] {};}
        \tikz{\node[fill=difficulty-4, draw=difficulty-4, minimum size=0.3em, inner sep=0, outer sep=0] {};}
        \tikz{\node[draw=difficulty-4, minimum size=0.3em, inner sep=0, outer sep=0] {};}
    \else
        \tikz{\node[fill=difficulty-5, draw=difficulty-5, minimum size=0.3em, inner sep=0, outer sep=0] {};}
        \tikz{\node[fill=difficulty-5, draw=difficulty-5, minimum size=0.3em, inner sep=0, outer sep=0] {};}
        \tikz{\node[fill=difficulty-5, draw=difficulty-5, minimum size=0.3em, inner sep=0, outer sep=0] {};}
        \tikz{\node[fill=difficulty-5, draw=difficulty-5, minimum size=0.3em, inner sep=0, outer sep=0] {};}
        \tikz{\node[fill=difficulty-5, draw=difficulty-5, minimum size=0.3em, inner sep=0, outer sep=0] {};}
    \fi\fi\fi\fi
    】
}
\newcommand{\exercisestar}[1]{\difficulty{#1}} % 简写版本
\newcommand{\formula}[1]{\textcolor{kaoyan-blue}{\[#1\]}}

% 8. 习题扩展命令
\newcommand{\exercisesource}[1]{\textbf{\textcolor{gray}{【来源】#1}}} % 习题来源
\newcommand{\matchexampoint}[1]{\textbf{\textcolor{kaoyan-blue}{【匹配考点】#1}}} % 考点匹配
\newcommand{\exercisetip}[1]{\textbf{\textcolor{kaoyan-orange}{【提示】#1}}} % 答题提示
\newcommand{\multiplesolution}[1]{\textbf{\textcolor{kaoyan-orange}{【#1】}}} % 一题多解标注

% 9. 公式格式化命令
\newcommand{\longmath}[1]{\displaystyle #1} % 长行内公式使用displaystyle
\newcommand{\splitmath}[1]{\begin{split} #1 \end{split}} % 用于分割长公式
\newcommand{\multmath}[1]{\begin{multline} #1 \end{multline}} % 用于多行公式，自动换行

% 10. 题型样式命令
\newcounter{problemtype}[subsection]%题型计数器，随subsection重置
\renewcommand{\theproblemtype}{题型\arabic{problemtype}}
\newcommand{\pt}[1]{%
    \par\vspace{1em}% 题型上方间距
    \stepcounter{problemtype}% 增加题型计数器
    % 核心：居中 + 字体 + 字号设置
    \begin{center} % 居中环境（比 \centering 更稳定）
        % 字体+字号：推荐组合（兼顾美观和可读性）
        \zihao{4} % 中文四号字（≈14pt，题型标题黄金字号）
        \bfseries % 加粗
        \kaishu % 中文用楷体（典雅易读），也可换 \heiti/\songti
        \textbf{【\theproblemtype:#1】}% 输出题型编号和参数
    \end{center}
    \par\vspace{0.8em}% 题型下方间距
}
```

### 6.1.5 environments.tex（环境定义配置）

定义自定义环境，包括问题环境、答案环境等，核心代码如下：

```latex

\DeclareExerciseType{problem}{
    exercise-env= Problem,
    solution-env= Answer,
    exercise-name= ,
    solution-name= ,
    counter=problem,
    exercise-template= default,
    solution-template= default
}

\xsimsetup{
    Problem/print = true,
    Answer/print = false,
    Problem/heading = ,
    Answer/heading =,
    print-solutions/headings= true,
    print-solutions/headings-template = kaoyan-daan,
    print-solutions/process-heading = false
}
\renewcommand{\theproblem}{【\arabic{problem}】}
```

## 6.2 测试章节示例代码

### 6.2.1 Problem和Answer环境示例

测试章节使用Problem和Answer环境，每个Problem环境对应一个Answer环境，示例如下：

```latex
\pt{极限计算}

\begin{Problem}
\difficulty{2} 
\textbf{选择题} 计算极限 $\lim_{x \to 0} \frac{\sin x - x}{x^3} = $（  ）
A. $-\frac{1}{6}$  B. $\frac{1}{6}$  C. $-\frac{1}{3}$  D. $\frac{1}{3}$
\end{Problem}

\begin{Answer}
\keypoint{泰勒展开}
\exercisesource{考研数学一·2018}
\multiplesolution{解法一：泰勒展开}
使用泰勒展开，$\sin x = x - \frac{x^3}{6} + o(x^3)$，因此 $\lim_{x \to 0} \frac{\sin x - x}{x^3} = \lim_{x \to 0} \frac{-\frac{x^3}{6} + o(x^3)}{x^3} = -\frac{1}{6}$。

\multiplesolution{解法二：洛必达法则}
连续使用洛必达法则三次：
$\lim_{x \to 0} \frac{\sin x - x}{x^3} = \lim_{x \to 0} \frac{\cos x - 1}{3x^2} = \lim_{x \to 0} \frac{-\sin x}{6x} = \lim_{x \to 0} \frac{-\cos x}{6} = -\frac{1}{6}$。

\exercisetip{泰勒展开在处理极限问题时往往比洛必达法则更高效，尤其对于复杂函数}
\end{Answer}
```

### 6.2.2 各种数学公式示例

#### 极限计算示例

```latex
\begin{Problem}
\difficulty{3} 
\textbf{填空题} 计算极限 $\lim_{n \to \infty} \left(1 + \frac{1}{n}\right)^{n^2} = $ __________
\end{Problem}

\begin{Answer}
\keypoint{重要极限}
\exercisesource{考研数学一·2019}
\multiplesolution{解法一：对数变换}
$\lim_{n \to \infty} \left(1 + \frac{1}{n}\right)^{n^2} = \lim_{n \to \infty} e^{n^2 \ln(1 + \frac{1}{n})}$，而 $\ln(1 + \frac{1}{n}) = \frac{1}{n} - \frac{1}{2n^2} + o(\frac{1}{n^2})$，因此 $n^2 \ln(1 + \frac{1}{n}) = n - \frac{1}{2} + o(1) \to \infty$，故极限为 $+\infty$。
\end{Answer}
```

#### 积分计算示例

```latex
\begin{Problem}
\difficulty{4} 
\textbf{解答题} 计算定积分 $\int_0^1 \frac{\ln(1 + x)}{1 + x^2} dx$
\end{Problem}

\begin{Answer}
\keypoint{积分变换}
\exercisesource{考研数学一·2010}
\multiplesolution{解法一：变量代换}
令 $x = \tan t$，则 $dx = \sec^2 t dt$，当 $x = 0$ 时 $t = 0$，$x = 1$ 时 $t = \frac{\pi}{4}$，因此：
$\int_0^1 \frac{\ln(1 + x)}{1 + x^2} dx = \int_0^{\frac{\pi}{4}} \ln(1 + \tan t) dt$。

令 $t = \frac{\pi}{4} - u$，则 $dt = -du$，当 $t = 0$ 时 $u = \frac{\pi}{4}$，$t = \frac{\pi}{4}$ 时 $u = 0$，因此：
$\int_0^{\frac{\pi}{4}} \ln(1 + \tan t) dt = \int_0^{\frac{\pi}{4}} \ln(1 + \tan(\frac{\pi}{4} - u)) du = \int_0^{\frac{\pi}{4}} \ln(2) - \ln(1 + \tan u) du$。

因此 $2\int_0^{\frac{\pi}{4}} \ln(1 + \tan t) dt = \frac{\pi}{4} \ln 2$，故原积分 $= \frac{\pi}{8} \ln 2$。
\end{Answer}
```

#### 矩阵与行列式示例

```latex
\begin{Problem}
\difficulty{3} 
\textbf{填空题} 设矩阵 $A = \begin{pmatrix} 1 & 2 \\ 3 & 4 \end{pmatrix}$，则 $|2A| = $ __________
\end{Problem}

\begin{Answer}
\keypoint{矩阵行列式性质}
\exercisesource{考研数学一·2017}
根据矩阵行列式性质，$|kA| = k^n |A|$，其中 $n$ 为矩阵的阶数。

矩阵 $A$ 是 2 阶矩阵，因此 $|2A| = 2^2 |A| = 4 \times (1 \times 4 - 2 \times 3) = 4 \times (-2) = -8$。
\end{Answer}
```

#### 向量计算示例

```latex
\begin{Problem}
\difficulty{4} 
\textbf{解答题} 设向量 $\vec{a} = (1, 2, 3)$，$\vec{b} = (2, -1, 1)$，求 $\vec{a} \cdot \vec{b}$ 和 $\vec{a} \times \vec{b}$。
\end{Problem}

\begin{Answer}
\keypoint{向量点积与叉积}
\exercisesource{考研数学一·2015}

1. 点积计算：
$\vec{a} \cdot \vec{b} = 1 \times 2 + 2 \times (-1) + 3 \times 1 = 2 - 2 + 3 = 3$。

2. 叉积计算：
$\vec{a} \times \vec{b} = \begin{vmatrix} \vec{i} & \vec{j} & \vec{k} \\ 1 & 2 & 3 \\ 2 & -1 & 1 \end{vmatrix} = \vec{i}(2 \times 1 - 3 \times (-1)) - \vec{j}(1 \times 1 - 3 \times 2) + \vec{k}(1 \times (-1) - 2 \times 2) = 5\vec{i} + 5\vec{j} - 5\vec{k} = (5, 5, -5)$。
\end{Answer}
```

### 6.2.3 复杂表格示例

```latex
\begin{Problem}
\difficulty{4} 
\textbf{解答题} 已知随机变量 $X$ 和 $Y$ 的联合分布律如下表所示，求：
(1) $X$ 和 $Y$ 的边缘分布律；
(2) $E(X)$ 和 $E(Y)$；
(3) $\Cov(X, Y)$。

\begin{table}[htbp]
\centering
\caption{随机变量 $X$ 和 $Y$ 的联合分布律}
\begin{tabular}{c|ccc}
\toprule
$X \setminus Y$ & 0 & 1 & 2 \\ 
\midrule
0 & 0.1 & 0.2 & 0.1 \\ 
1 & 0.2 & 0.3 & 0.1 \\ 
\bottomrule
\end{tabular}
\end{table}
\end{Problem}

\begin{Answer}
\keypoint{联合分布律与数字特征}
\exercisesource{考研数学一·2016}

(1) 边缘分布律：
- $P(X=0) = 0.1 + 0.2 + 0.1 = 0.4$，$P(X=1) = 0.2 + 0.3 + 0.1 = 0.6$；
- $P(Y=0) = 0.1 + 0.2 = 0.3$，$P(Y=1) = 0.2 + 0.3 = 0.5$，$P(Y=2) = 0.1 + 0.1 = 0.2$。

(2) 期望计算：
- $E(X) = 0 \times 0.4 + 1 \times 0.6 = 0.6$；
- $E(Y) = 0 \times 0.3 + 1 \times 0.5 + 2 \times 0.2 = 0.9$。

(3) 协方差计算：
- $E(XY) = 0 \times 0 \times 0.1 + 0 \times 1 \times 0.2 + 0 \times 2 \times 0.1 + 1 \times 0 \times 0.2 + 1 \times 1 \times 0.3 + 1 \times 2 \times 0.1 = 0.5$；
- $\Cov(X, Y) = E(XY) - E(X)E(Y) = 0.5 - 0.6 \times 0.9 = 0.5 - 0.54 = -0.04$。
\end{Answer}
```

### 6.2.4 图片引用示例

```latex
\begin{Problem}
\difficulty{3} 
\textbf{解答题} 如图所示，求由曲线 $y = x^2$ 和直线 $y = 2x$ 围成的平面图形的面积。

\begin{figure}[htbp]
\centering
\includegraphics[width=0.6\textwidth]{images/ch02/curve_area.png}
\caption{曲线 $y = x^2$ 和直线 $y = 2x$ 围成的图形}
\label{fig:curve_area}
\end{figure}
\end{Problem}

\begin{Answer}
\keypoint{定积分的几何应用}
\exercisesource{考研数学一·2018}

首先求两条曲线的交点：
$x^2 = 2x \implies x(x - 2) = 0 \implies x = 0$ 或 $x = 2$，对应的 $y = 0$ 或 $y = 4$。

因此，围成的图形面积为：
$S = \int_0^2 (2x - x^2) dx = \left[ x^2 - \frac{x^3}{3} \right]_0^2 = (4 - \frac{8}{3}) - 0 = \frac{4}{3}$。
\end{Answer}
```

### 6.2.5 一题多解示例

```latex
\begin{Problem}
\difficulty{4} 
\textbf{解答题} 计算极限 $\lim_{x \to 0} \frac{e^x - e^{-x} - 2x}{x^3}$
\end{Problem}

\begin{Answer}
\keypoint{泰勒展开、洛必达法则}
\exercisesource{考研数学一·2019}
\multiplesolution{解法一：泰勒展开}
使用泰勒展开，$e^x = 1 + x + \frac{x^2}{2} + \frac{x^3}{6} + o(x^3)$，$e^{-x} = 1 - x + \frac{x^2}{2} - \frac{x^3}{6} + o(x^3)$，因此：
$e^x - e^{-x} - 2x = \left(1 + x + \frac{x^2}{2} + \frac{x^3}{6} \right) - \left(1 - x + \frac{x^2}{2} - \frac{x^3}{6} \right) - 2x = \frac{x^3}{3} + o(x^3)$

故 $\lim_{x \to 0} \frac{e^x - e^{-x} - 2x}{x^3} = \lim_{x \to 0} \frac{\frac{x^3}{3} + o(x^3)}{x^3} = \frac{1}{3}$。

\multiplesolution{解法二：洛必达法则}
连续使用洛必达法则三次：
$\lim_{x \to 0} \frac{e^x - e^{-x} - 2x}{x^3} = \lim_{x \to 0} \frac{e^x + e^{-x} - 2}{3x^2} = \lim_{x \to 0} \frac{e^x - e^{-x}}{6x} = \lim_{x \to 0} \frac{e^x + e^{-x}}{6} = \frac{2}{6} = \frac{1}{3}$。

\exercisetip{对于含有指数函数的极限问题，泰勒展开和洛必达法则都是常用的方法，泰勒展开往往更直观，洛必达法则更机械}
\end{Answer}
```