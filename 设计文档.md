# 考研数学一习题集与错题集LaTeX笔记设计文档

## 1. 项目概述

本项目是一个基于LaTeX的考研数学一习题集与错题集管理系统，采用"章节-小章节-题型-习题"的四级结构，实现题目按知识点精准归类、难度分级标注、来源追溯以及错题专项复盘。注意：题型数量是动态变化的，例如第一章可能有题型1-分段函数连续性判定、题型2-幂指函数的极限、题型3-复合函数的极限......

**设计风格**：采用简洁专业的习题集风格，专注于习题呈现，减少叙述性文字，实现美观的PDF输出，包括封面、目录、正文、附录和参考文献等完整结构。

## 1.1 130分+专项策略

### 1.1.1 分数目标分析
- **总分构成**：基础题(70分) + 中等题(45分) + 难题(15分) = 130分
- **能力要求**：掌握85%核心考点，重点题型得分率90%+
- **备考策略**：重点题型集群收集 + 错题专项突破 + 阶段性复习规划

### 1.1.2 重点题型集群
1. **极限计算**：等价无穷小、洛必达法则、夹逼准则（每年50+题）
2. **导数计算**：复合函数求导、高阶导数、隐函数求导（每年40+题）
3. **积分计算**：换元积分、分部积分、有理函数积分（每年45+题）
4. **矩阵运算**：特征值特征向量、相似对角化（每年35+题）
5. **概率计算**：全概率公式、贝叶斯公式、分布计算（每年40+题）

### 1.1.3 复习阶段规划
- **基础积累阶段**（前3个月）：重点题型系统练习，正确率达到90%
- **强化突破阶段**（中2个月）：错题专项突破，薄弱环节强化
- **冲刺提高阶段**（后1个月）：模拟考试，证明题能力提升

## 2. 技术架构

### 2.1 LaTeX环境配置
- **编译引擎**: XeLaTeX (最佳中文支持)
- **中文支持**: ctex宏包
- **图形绘制**: TikZ + shapes.geometric (星星绘制)
- **颜色管理**: xcolor宏包
- **页面布局**: geometry宏包

### 2.2 核心宏包依赖
```
ctex              % 中文支持
anyfontsize       % 任意字体大小
amsmath, amsthm, amssymb, amsfonts  % AMS数学基础
mathtools         % 增强数学工具
bm                % 粗体数学符号
cases             % 多行公式
siunitx           % 单位与数字
cancel            % 取消线
graphicx          % 图片插入
tcolorbox         % 彩色框（含定理环境）
tikz              % 图形绘制
xcolor            % 颜色定义
pgffor            % 循环
enumitem          % 列表控制
hyperref          % 超链接
cleveref          % 智能引用
biblatex          % 参考文献
fancyhdr          % 页眉页脚
titlesec          % 标题格式
titletoc          % 目录格式
appendix          % 附录
booktabs          % 表格样式
multirow, multicol  % 表格与多列
array             % 数组扩展
makecell          % 表格单元格
longtable         % 长表格
```

### 2.3 构建系统
- **构建目录**: build/ (存放所有编译中间文件)
- **输出文件**: main.pdf (最终PDF文档)
- **缓存管理**: .gitignore忽略编译产物
- **自动化构建**: 支持latexmk一键编译

## 3. 核心功能设计

### 3.1 难度标注系统
```latex
\newcommand{\difficulty}[1]{%
    \def\difficultycolor{difficulty-#1}
    【
    \ifnum#1=1
        \tikz{\node[fill=\difficultycolor, draw=\difficultycolor, minimum size=0.3em, inner sep=0, outer sep=0] {};}
        \tikz{\node[draw=\difficultycolor, minimum size=0.3em, inner sep=0, outer sep=0] {};}
        \tikz{\node[draw=\difficultycolor, minimum size=0.3em, inner sep=0, outer sep=0] {};}
        \tikz{\node[draw=\difficultycolor, minimum size=0.3em, inner sep=0, outer sep=0] {};}
        \tikz{\node[draw=\difficultycolor, minimum size=0.3em, inner sep=0, outer sep=0] {};}
    \else\ifnum#1=2
        \tikz{\node[fill=\difficultycolor, draw=\difficultycolor, minimum size=0.3em, inner sep=0, outer sep=0] {};}
        \tikz{\node[fill=\difficultycolor, draw=\difficultycolor, minimum size=0.3em, inner sep=0, outer sep=0] {};}
        \tikz{\node[draw=\difficultycolor, minimum size=0.3em, inner sep=0, outer sep=0] {};}
        \tikz{\node[draw=\difficultycolor, minimum size=0.3em, inner sep=0, outer sep=0] {};}
        \tikz{\node[draw=\difficultycolor, minimum size=0.3em, inner sep=0, outer sep=0] {};}
    \else\ifnum#1=3
        \tikz{\node[fill=\difficultycolor, draw=\difficultycolor, minimum size=0.3em, inner sep=0, outer sep=0] {};}
        \tikz{\node[fill=\difficultycolor, draw=\difficultycolor, minimum size=0.3em, inner sep=0, outer sep=0] {};}
        \tikz{\node[fill=\difficultycolor, draw=\difficultycolor, minimum size=0.3em, inner sep=0, outer sep=0] {};}
        \tikz{\node[draw=\difficultycolor, minimum size=0.3em, inner sep=0, outer sep=0] {};}
        \tikz{\node[draw=\difficultycolor, minimum size=0.3em, inner sep=0, outer sep=0] {};}
    \else\ifnum#1=4
        \tikz{\node[fill=\difficultycolor, draw=\difficultycolor, minimum size=0.3em, inner sep=0, outer sep=0] {};}
        \tikz{\node[fill=\difficultycolor, draw=\difficultycolor, minimum size=0.3em, inner sep=0, outer sep=0] {};}
        \tikz{\node[fill=\difficultycolor, draw=\difficultycolor, minimum size=0.3em, inner sep=0, outer sep=0] {};}
        \tikz{\node[fill=\difficultycolor, draw=\difficultycolor, minimum size=0.3em, inner sep=0, outer sep=0] {};}
        \tikz{\node[draw=\difficultycolor, minimum size=0.3em, inner sep=0, outer sep=0] {};}
    \else
        \tikz{\node[fill=\difficultycolor, draw=\difficultycolor, minimum size=0.3em, inner sep=0, outer sep=0] {};}
        \tikz{\node[fill=\difficultycolor, draw=\difficultycolor, minimum size=0.3em, inner sep=0, outer sep=0] {};}
        \tikz{\node[fill=\difficultycolor, draw=\difficultycolor, minimum size=0.3em, inner sep=0, outer sep=0] {};}
        \tikz{\node[fill=\difficultycolor, draw=\difficultycolor, minimum size=0.3em, inner sep=0, outer sep=0] {};}
        \tikz{\node[fill=\difficultycolor, draw=\difficultycolor, minimum size=0.3em, inner sep=0, outer sep=0] {};}
    \fi\fi\fi\fi
    】
}
\newcommand{\exercisestar}[1]{\difficulty{#1}} % 简写版本
```
- 支持1-5级难度
- 彩色方块可视化，用黑色中文中括号括住
- 颜色渐变（绿色→蓝色→橙色→红色→紫色）
- 已填充方块表示难度等级，未填充方块显示为轮廓
- 习题应用时，先标注难度，再写习题内容
- 包含简写版本\exercisestar

### 3.2 习题信息标注
- `\keypoint{考点}`: 核心考点标注
- `\important{重点}`: 重点内容标注
- `\exercisesource{来源}`: 题目来源标注
- `\matchexampoint{考点}`: 匹配考点标注
- `\exercisetip{提示}`: 解题提示
- `\multiplesolution{解法}`: 一题多解标注

### 3.3 专用环境

#### 3.3.1 定理类环境
- `definition`: 定义环境（tcolorbox）
- `theorem`: 定理环境（tcolorbox）
- `lemma`: 引理环境（tcolorbox）
- `corollary`: 推论环境（tcolorbox）
- `remark`: 注环境（tcolorbox）

#### 3.3.2 考研习题专用环境
- `exam-point`: 考点环境（tcolorbox）
- `question-type`: 题型分类环境
- `exercise-item`: 单个习题环境
- `error-analysis`: 错因分析环境
- `exercise-solution`: 详细解析环境
- `example`: 例题环境
- `exercise`: 习题集合环境
- `solution`: 简短解环境
- `proofbox`: 证明环境
- `summary`: 本章总结环境
- `attention`: 注意事项环境

## 4. 文件结构设计

```
Math-Exercises/
├── main.tex              # 主文档入口
├── preamble.tex          # 宏包配置与自定义命令
├── references.bib        # 参考文献数据库
├── README.md             # 项目使用说明
├── 设计文档.md           # 本文档
├── 考研数学一习题集与错题集LaTeX笔记需求分析.md  # 需求分析
├── config/                  # 配置文件目录
│   ├── colors.tex           # 颜色配置
│   ├── environments.tex     # 环境定义
│   ├── commands.tex         # 自定义命令
│   ├── packages.tex         # 宏包加载
│   └── styles.tex           # 样式配置
├── content/                 # 内容文件目录
│   ├── chapters/            # 章节目录
│   │   ├── ch00.tex         # 前言
│   │   ├── ch01.tex - ch10.tex  # 正文章节
│   │   └── ch99.tex         # 附录
│   └── references.bib       # 参考文献
├── figures/                 # 图片资源
│   ├── common/              # 通用图片
│   └── ch01/                # 第1章图片
├── images/                  # 矢量图资源
├── scripts/                 # 脚本目录
│   ├── build.bat            # Windows构建脚本
│   ├── build.sh             # Linux/macOS构建脚本
│   └── validate.sh          # 验证脚本
├── .vscode/                 # VS Code配置
│   ├── settings.json        # LaTeX Workshop插件配置
│   └── keybindings.json     # 快捷键配置
├── build/                   # 编译输出目录
│   ├── main.pdf             # 生成的PDF文档
│   ├── main.aux             # LaTeX辅助文件
│   ├── main.bbl             # BibTeX参考文献文件
│   ├── main.blg             # BibTeX日志文件
│   ├── main.log             # LaTeX编译日志
│   ├── main.toc             # 目录文件
│   ├── main.out             # 超链接信息文件
│   └── *.bcf, *.run.xml, *.synctex.gz 等其他中间文件
├── main.tex                 # 主文档入口
├── Makefile                 # 构建脚本
├── README.md                # 项目说明
├── 设计文档.md              # 设计文档
├── 使用说明.md              # 使用说明
├── 需求分析.md              # 需求分析
├── 项目问题与解决方案.md      # 项目问题与解决方案
├── 项目合规性测试文档.md      # 项目合规性测试文档
└── cg-prompt.md             # AI提示词

## 6. VS Code开发环境配置

### 6.1 LaTeX Workshop插件配置

项目使用`.vscode/settings.json`配置LaTeX Workshop插件，实现自动化编译和预览：

```jsonc
{
    "latex-workshop.latex.tools": [
        {
            "name": "latexmk",
            "command": "latexmk",
            "args": [
                "-xelatex",
                "-synctex=1",
                "-interaction=nonstopmode",
                "-file-line-error",
                "-shell-escape",
                "-outdir=./build",
                "%DOC%"
            ]
        }
    ],
    
    "latex-workshop.latex.recipes": [
        {
            "name": "latexmk",
            "tools": ["latexmk"]
        }
    ],
    
    "latex-workshop.latex.autoBuild.run": "onFileChange",
    "latex-workshop.latex.clean.fileTypes": [
        "*.aux", "*.bbl", "*.blg", "*.bcf", "*.run.xml",
        "*.synctex.gz", "*.log", "*.out", "*.toc",
        "*.lof", "*.lot", "*.fmt", "*.fot", "*.fdb_latexmk", "*.fls"
    ],
    
    // ============ PDF 查看器配置 ============
    "latex-workshop.view.pdf.viewer": "tab",
    "latex-workshop.view.pdf.tab.viewer": "webview",
    "latex-workshop.view.pdf.webview.enabled": true,
    "latex-workshop.view.pdf.webview.panel": "split",
    "latex-workshop.view.pdf.webview.openExternal": false,
    
    // ============ 反向搜索配置 ============
    "latex-workshop.view.pdf.internal.synctex.keybinding": "double-click",
    "latex-workshop.view.pdf.internal.synctex.enabled": true,
    
    // 同步配置
    "latex-workshop.synctex.afterBuild.enabled": true,
    
    // 输出目录
    "latex-workshop.latex.outDir": "./build",
    
    // 性能优化
    "latex-workshop.latex.watch.files.ignore": [
        "${workspaceFolder}/build/**",
        "${workspaceFolder}/.git/**"
    ],
    
    // 性能与兼容
    "latex-workshop.cache.enabled": false,
    
    // 拼写检查词典
    "cSpell.words": [
        "amsthm", "biber", "biblatex", "breaklines", "Consolas",
        "gbpub", "htbp", "kaoyan", "latexmk", "lstlisting",
        "lstset", "pdfauthor", "pdfsubject", "stringstyle",
        "synctex", "tcolorbox", "xelatex"
    ],
    
    // LaTeX编辑器配置
    "[latex]": {
        "editor.wordWrapColumn": 160,
        "editor.wordWrap": "bounded",
        "editor.rulers": [160]
    },
    
    // 文件关联
    "files.associations": {
        "*.pdf": "pdf"
    }
}
```

### 6.2 配置说明

- **编译工具**: 使用latexmk + XeLaTeX引擎，支持中文显示
- **输出目录**: 所有编译产物输出到`./build`目录
- **自动构建**: 保存文件时自动编译
- **PDF预览**: 内置标签页预览，支持双击同步定位
- **文件清理**: 自动清理编译中间文件
- **性能优化**: 忽略build目录和.git目录的文件监控
```

## 5. 模块化配置说明

### 5.1 配置文件结构

#### 5.1.1 packages.tex
负责加载所有宏包，便于统一管理和更新：
```latex
% 数学宏包
\usepackage{amsmath, amsthm, amssymb, amsfonts}
\usepackage{mathtools}
\usepackage{bm}
\usepackage{cases}

% 图形与颜色
\usepackage{graphicx}
\usepackage{tcolorbox}
\usepackage{xcolor}
\usepackage{tikz}

% 排版与工具
\usepackage{enumitem}
\usepackage{hyperref}
\usepackage{cleveref}

% 其他必要宏包
\usepackage{booktabs}
\usepackage{multirow, multicol}
\usepackage{array}
```

#### 5.1.2 colors.tex
定义所有颜色，便于统一管理和调整：
```latex
% 定义考研专用颜色
\definecolor{kaoyan-blue}{RGB}{0, 102, 204}
\definecolor{kaoyan-red}{RGB}{204, 51, 0}
\definecolor{kaoyan-green}{RGB}{0, 153, 0}
\definecolor{kaoyan-orange}{RGB}{255, 153, 0}
\definecolor{kaoyan-gray}{RGB}{245, 245, 245}

% 习题难度颜色
\definecolor{difficulty-1}{RGB}{0, 153, 0}
\definecolor{difficulty-2}{RGB}{0, 102, 204}
\definecolor{difficulty-3}{RGB}{255, 153, 0}
\definecolor{difficulty-4}{RGB}{204, 51, 0}
\definecolor{difficulty-5}{RGB}{102, 0, 153}
```

#### 5.1.3 styles.tex
定义所有样式，包括页面布局、标题格式等：
```latex
% 页面布局
\geometry{
    a4paper,
    left=3cm,
    right=2.5cm,
    top=2.5cm,
    bottom=2.5cm,
    headheight=15pt,
    headsep=1cm,
    footskip=1cm
}

% 标题格式
\titleformat{\chapter}[display]
    {\normalfont\Huge\bfseries\color{kaoyan-blue}}
    {\chaptertitlename\ \thechapter}{20pt}{\centering}
\titlespacing*{\chapter}{0pt}{-30pt}{40pt}

% 段落格式
\setlength{\parindent}{2em}
\setlength{\parskip}{0.5em}
```

#### 5.1.4 commands.tex
定义所有自定义命令，便于统一管理和扩展：
```latex
% 数学符号快捷命令
\newcommand{\R}{\mathbb{R}}
\newcommand{\N}{\mathbb{N}}
\newcommand{\Z}{\mathbb{Z}}
\newcommand{\Q}{\mathbb{Q}}
\newcommand{\C}{\mathbb{C}}

% 微分与导数
\newcommand{\ddme}{\mathrm{d}}
\newcommand{\pd}{\partial}
\newcommand{\pder}[2]{\frac{\partial #1}{\partial #2}}

% 极限与积分
\newcommand{\limn}{\lim\limits_{n\to\infty}}
\newcommand{\limx}{\lim\limits_{x\to\infty}}
\newcommand{\limxa}{\lim\limits_{x\to a}}
\newcommand{\intab}{\int_{a}^{b}}
```

#### 5.1.5 environments.tex
定义所有自定义环境，便于统一管理和扩展：
```latex
% 答案环境定义
\newenvironment{answer-item}[1]{
    \item \hyperref[#1]{\ref{#1}} 
    \begin{tcolorbox}[colframe=kaoyan-green, colback=kaoyan-green!10, breakable]
}{\end{tcolorbox}}

% 答案章节环境
\newenvironment{chapter-answers}{% 
    \section{本章答案与解析}
    \begin{center}
        \textbf{\large 答案与解析}
    \end{center}
    \vspace{1em}
}{}

% 题型答案环境
\newenvironment{type-answers}[1]{%
    \subsection{#1 答案}
    \begin{enumerate}[label={【\arabic*】}]
}{\end{enumerate}}
```

## 6. 章节组织规范

### 6.1 章节命名规则
- `ch00.tex`: 前言
- `ch01.tex-ch10.tex`: 正文章节（包含题目和答案）
- `ch99.tex`: 附录

### 6.2 文档结构
整个文档采用模块化的LaTeX文档结构：
```latex
\documentclass[10pt, oneside]{book}

% 加载配置文件
\input{config/packages}       % 宏包加载
\input{config/colors}         % 颜色配置
\input{config/styles}         % 样式配置
\input{config/commands}       % 自定义命令
\input{config/environments}   % 环境定义

% 添加参考文献资源
\addbibresource{references.bib}

% 设置图片路径
\graphicspath{{figures/}{figures/common/}{images/}}

\begin{document}
\begin{titlepage}...\end{titlepage} % 封面页
\frontmatter % 前言部分
\input{content/ch00} % 前言
\tableofcontents % 目录
\listoffigures % 插图目录
\listoftables % 表格目录
\mainmatter % 正文部分
\input{content/ch01} % 第1章：极限与连续（包含题目和答案）
...
\appendix % 附录
\input{content/ch99} % 附录内容
\backmatter % 参考文献
\printbibliography[title=参考文献]
\end{document}
```

### 6.2 题型组织结构
每个章节按以下结构组织：
```latex
\chapter{章节名称}
\label{ch:label}

\section{小节名称}

\begin{exam-point}{考点名称}{标签}
考点说明
\end{exam-point}

\subsection{题型1 题型名称}
\begin{enumerate}[label={【\arabic*】}]
    \qitem{ex:ch01-01-01} \difficulty{难度级} 题目内容 \exercisesource{来源}
    \matchexampoint{考点}
    \exercisetip{提示}
    
    \qitem{ex:ch01-01-02} \difficulty{难度级} 题目内容 \exercisesource{来源}
    \matchexampoint{考点}
    \exercisetip{提示}
    
    \qitem{ex:ch01-01-03} \difficulty{难度级} 题目内容 \exercisesource{来源}
    \matchexampoint{考点}
    \exercisetip{提示}
\end{enumerate}

\subsection{题型2 题型名称}
\begin{enumerate}[label={【\arabic*】}]
    \qitem{ex:ch01-02-01} \difficulty{难度级} 题目内容 \exercisesource{来源}
    \matchexampoint{考点}
    \exercisetip{提示}
    
    \qitem{ex:ch01-02-02} \difficulty{难度级} 题目内容 \exercisesource{来源}
    \matchexampoint{考点}
    \exercisetip{提示}
    
    \qitem{ex:ch01-02-03} \difficulty{难度级} 题目内容 \exercisesource{来源}
    \matchexampoint{考点}
    \exercisetip{提示}
\end{enumerate}

\subsection{题型3 函数图像与极限分析}
\begin{enumerate}[label={【\arabic*】}]
    \qitem{ex:ch01-03-01} \difficulty{3} 观察下图中函数 $y = \sin(x)$ 与 $y = x - \frac{x^3}{6}$ 的图像，分析当 $x \to 0$ 时两者的极限关系，并计算 $\lim_{x \to 0} \frac{\sin x - (x - \frac{x^3}{6})}{x^5}$ \exercisesource{考研数学一·2023}
    \begin{figure}[ht]
        \centering
        \includegraphics[width=0.8\textwidth]{images/function_comparison.pdf}
        \caption{函数图像比较}
        \label{fig:function_comparison}
    \end{figure}
    \matchexampoint{泰勒公式}
    \exercisetip{利用泰勒展开分析两者的差异}
\end{enumerate}

% ========== 本章答案与解析 ==========
\begin{chapter-answers}

    \begin{type-answers}{题型1 题型名称}
        \begin{answer-item}{ex:ch01-01-01}
            答案内容
        \end{answer-item}
        \begin{answer-item}{ex:ch01-01-02}
            答案内容
        \end{answer-item}
        \begin{answer-item}{ex:ch01-01-03}
            答案内容
        \end{answer-item}
    \end{type-answers}
    
    \begin{type-answers}{题型2 题型名称}
        \begin{answer-item}{ex:ch01-02-01}
            答案内容
        \end{answer-item}
        \begin{answer-item}{ex:ch01-02-02}
            答案内容
        \end{answer-item}
        \begin{answer-item}{ex:ch01-02-03}
            答案内容
        \end{answer-item}
    \end{type-answers}
    
    \begin{type-answers}{题型3 函数图像与极限分析}
        \begin{answer-item}{ex:ch01-03-01}
            答案内容
        \end{answer-item}
    \end{type-answers}

\end{chapter-answers}
```

### 6.3 习题显示格式
- **序号**: 自动编号 (【1】【2】【3】...)
- **难度**: 序号之后，习题内容之前，彩色方块用中文中括号括住
- **内容**: LaTeX数学公式
- **来源**: 方括号标注【来源】
- **考点**: 匹配考点标注
- **提示**: 解题提示

### 6.4 习题格式规范
```latex
\begin{enumerate}[label={【\arabic*】}]
    \item \label{ex:chXX-TY-MM} \difficulty{难度级} 题目内容 \exercisesource{来源}
    \matchexampoint{考点}
    \exercisetip{提示}
\end{enumerate}
```

### 6.5 答案格式规范
```latex
\section{本章答案与解析}
\label{ch:XX-answers}

\subsection{题型1 题型名称答案}
\begin{enumerate}[label={【\arabic*】}]
    \item \hyperref[ex:chXX-TY-01]{\ref{ex:chXX-TY-01}} 答案内容
    \item \hyperref[ex:chXX-TY-02]{\ref{ex:chXX-TY-02}} 答案内容
    \item \hyperref[ex:chXX-TY-03]{\ref{ex:chXX-TY-03}} 答案内容
\end{enumerate}
```

### 6.6 答案标签命名规则
- 题目标签格式：`ex:chXX-TY-MM`
  - `chXX`: 章节号（如ch01, ch02）
  - `TY`: 题型号（如01, 02, 03）
  - `MM`: 题目号（如01, 02, 03）
- 答案章节标签格式：`ch:XX-answers`
  - `XX`: 章节号

### 6.7 答案环境定义
```latex
% 答案环境定义
\newenvironment{answer-item}[1]{
    \item \hyperref[#1]{\ref{#1}} 
    \begin{tcolorbox}[colframe=kaoyan-green, colback=kaoyan-green!10, breakable]
}{\end{tcolorbox}}

% 答案章节环境
\newenvironment{chapter-answers}{% 
    \section{本章答案与解析}
    \begin{center}
        \textbf{\large 答案与解析}
    \end{center}
    \vspace{1em}
}{}

% 题型答案环境
\newenvironment{type-answers}[1]{%
    \subsection{#1 答案}
    \begin{enumerate}[label={【\arabic*】}]
}{\end{enumerate}}

% 题目超链接环境
\newcommand{\questionlink}[1]{%
    \hyperref[#1]{\ref{#1}}
}
```

### 6.8 数学符号快捷命令
项目实现了丰富的数学符号快捷命令，包括：
- 集合符号：\R, \N, \Z, \Q, \C
- 微分与导数：\ddme, \pd, \pder, \gradme, \diver
- 极限与积分：\limn, \limx, \limxa, \intab, \iintD, \ointC
- 矩阵与向量：\mat, \bmat, \absme, \normme
- 概率与统计：\P, \E, \Var, \Cov
- 快捷输入：\dx, \dy, \dt, \const

## 7. 错题集设计

### 7.1 错题结构
```latex
\begin{error-analysis}
\textbf{错因：} 错误原因分析

\textbf{错误解法：}
原错误解题过程

\textbf{正确解法：}
正确解题过程

\textbf{复盘状态：} 未复盘/已复盘N次/已掌握
\end{error-analysis}
```

### 7.2 组织方式
- 按原章节归类
- 支持交叉引用到原题
- 复盘状态标记

## 8. 样式设计

### 8.1 颜色方案
- 考研主色调: 
  - 蓝色: #0066CC
  - 红色: #CC3300
  - 绿色: #009900
  - 橙色: #FF9900
  - 灰色: #F5F5F5

- 难度颜色: 
  - 难度1: 绿色 (#009900)
  - 难度2: 蓝色 (#0066CC)
  - 难度3: 橙色 (#FF9900)
  - 难度4: 红色 (#CC3300)
  - 难度5: 紫色 (#660099)
  
- 星星颜色: 金色 (#FFD700)

### 8.2 页面布局
- A4纸张
- 边距: 左3cm, 右2.5cm, 上2.5cm, 下2.5cm
- 页眉: 章节名 + 页码
- 页脚: 页码

### 8.3 字体规范
- 中文: 宋体
- 英文/数字: Times New Roman
- 数学公式: 默认LaTeX字体

## 9. 扩展性设计

### 9.1 新增章节
1. 在content/chapters/目录创建新tex文件
2. 在main.tex中添加\input语句
3. 遵循统一格式规范

### 9.2 新增题型
1. 使用question-type环境包装
2. 添加相应习题和解析

### 9.3 新增命令
在config/commands.tex中添加自定义命令，遵循命名规范。

## 10. 编译与部署

### 10.1 编译流程

#### 10.1.1 使用latexmk自动编译（推荐）
```bash
latexmk -xelatex -synctex=1 -interaction=nonstopmode -file-line-error -shell-escape -outdir=./build main.tex
```

#### 10.1.2 使用Makefile编译
```bash
make
```

#### 10.1.3 手动编译流程
```bash
xelatex -synctex=1 -interaction=nonstopmode -file-line-error -shell-escape -output-directory=./build main.tex
biber ./build/main      # 如有参考文献
xelatex -synctex=1 -interaction=nonstopmode -file-line-error -shell-escape -output-directory=./build main.tex
xelatex -synctex=1 -interaction=nonstopmode -file-line-error -shell-escape -output-directory=./build main.tex
```

### 10.2 依赖检查
- MiKTeX/TeX Live 完整安装
- 中文支持包(ctex)
- 所有宏包已安装

## 11. 维护指南

### 11.1 版本控制
- 使用Git管理代码
- 定期备份
- 记录修改日志

### 11.2 错误排查
- 检查LaTeX语法
- 验证宏包依赖
- 查看编译日志

## 12. PDF模板与项目完善

### 12.1 基于exercises.pdf的模板设计
exercises.pdf作为项目模板，定义了完整的文档结构：
- **封面设计**: 标题、作者、版本信息
- **目录结构**: 自动生成目录、图表目录
- **正文格式**: 章节标题、页眉页脚
- **习题排版**: 序号、难度星星、来源标注
- **附录结构**: 参考文献、索引

### 12.2 项目完善计划
- [x] 实现四级结构化组织
- [x] 完成难度可视化系统
- [x] 建立构建和缓存管理系统
- [x] 配置VS Code开发环境，支持自动编译和反向搜索
- [x] 实现定理类环境和考研专用环境
- [x] 添加示例章节模板
- [x] 实现错题分析环境
- [x] 添加矢量图支持，实现图文结合的题目
- [x] 实现集中式答案组织系统
- [x] 完成测试章节编写，包含多种题型和矢量图题目
- [x] 实现答案与题目间的超链接功能
- [x] 实现模块化架构设计
- [ ] 添加更多数学章节内容
- [ ] 增加更多习题答案和解析
- [ ] 优化移动端显示效果

### 12.3 扩展功能
- **自动化构建**: 集成latexmk脚本
- **版本管理**: Git工作流优化
- **内容验证**: LaTeX语法检查
- **多格式输出**: 支持HTML/PDF双输出

### 12.4 质量保证
- **编译验证**: 确保PDF正常生成
- **格式一致性**: 统一排版风格
- **内容完整性**: 章节结构完整
- **性能优化**: 减少编译时间

### 12.5 性能优化
- 图片压缩
- 代码清理
- 编译缓存

---

本文档基于需求分析制定，如有变更请同步更新。