# cg-prompt.md - 考研数学一习题集&错题集 LaTeX 生成指引
## 一、核心目标
生成适配考研数学一的习题集与错题集 LaTeX 笔记内容，实现“章节-小章节-题型-习题”四级结构化管理，输出简洁专业、格式规范的 PDF 文档，支撑130+分备考策略落地。

## 二、技术架构约束（必遵循）
- 编译引擎：XeLaTeX，中文依赖 ctex 宏包
- 核心宏包：tcolorbox、tikz、xcolor、enumitem、hyperref、biblatex
- 输出目录：编译产物统一输出到 build/ 目录，主文件输出为 main.pdf

## 三、格式规范约束（必遵循）
### 3.1 基础格式
- 字体：中文宋体、英文/数字 Times New Roman
- 页面：A4 纸，左3cm、右2.5cm、上下2.5cm边距
- 页眉：包含章节名 + 页码

### 3.2 习题专属格式
- 序号：【阿拉伯数字】自动编号（如【1】【2】）
- 难度标注：1-5级彩色星星（绿→黄→橙→红→紫），\difficulty{} 命令实现，【】包裹，紧跟序号后
- 题目信息：必须包含 \exercisesource{}（来源）、\matchexampoint{}（考点）、\exercisetip{}（提示）

## 四、结构组织约束（必遵循）
### 4.1 文件命名
- 序言：ch00.tex
- 正文章节：ch01.tex-ch10.tex（极限与连续、一元函数微分学等10章）
- 附录：ch99.tex

### 4.2 层级结构
严格遵循：章节 → 小节 → 考点 → 题型 → 习题（四级）

### 4.3 错题集结构
- 按原章节归类，支持交叉引用原题
- 包含：错因分析、错误解法、正确解法、复盘状态标记（未复盘/已复盘N次/已掌握）

## 五、核心功能要求
1. 难度标注：\difficulty{} 命令实现1-5级星星，颜色渐变准确，内联紧凑
2. 构建脚本：支持 latexmk 一键编译，提供 Windows(build.bat)/Linux/Mac(build.sh) 脚本
3. 双向同步：配置 LaTeX 与 PDF 双向定位，双击跳转
4. 扩展性：预留新增章节/题型/命令的扩展接口，命名规范统一

## 六、输出质量要求
- 代码可直接编译，无语法错误；配置文件可直接导入 VS Code
- 注释清晰、格式统一，符合 LaTeX 规范
- 排版简洁美观，重点（难度、考点）突出，适配考研刷题场景

## 七、常用调用提示词模板（直接复制使用）
### 模板1：生成 LaTeX 核心配置文件
基于上述规范，生成考研数学一习题集的 LaTeX 核心配置代码（main.tex 头部），包含：
1. 文档类+宏包引入（ctex、tcolorbox、tikz等必选宏包）
2. 自定义命令（\difficulty{}、\exercisesource{}、\matchexampoint{}、\exercisetip{}）
3. 页面布局设置（A4、边距、字体、页眉）
4. 输出目录配置（指向 build/ 目录）

### 模板2：生成章节结构示例（以“极限与连续”为例）
基于上述规范，生成考研数学一“极限与连续”章节（ch01.tex）的完整 LaTeX 代码：
1. 遵循“章节→小节→考点→题型→习题”四级结构
2. 包含3类题型（选择题、计算题、证明题），每类题型2道习题
3. 习题包含序号、5级难度星星、来源、考点、提示、解析
4. 代码注释清晰，预留扩展接口

### 模板3：生成错题集专用环境
基于上述规范，生成考研数学一错题集的 LaTeX 专用环境定义代码：
1. 错因分析环境（\begin{erroranalysis}）
2. 错误解法环境（\begin{wrongmethod}）
3. 正确解法环境（\begin{correctmethod}）
4. 复盘状态标记环境（\begin{reviewstatus}）
5. 支持交叉引用原题序号

### 模板4：生成 VS Code 配置文件
基于上述规范，生成适配该 LaTeX 项目的 VS Code 配置文件：
1. LaTeX Workshop 的 settings.json 完整配置（XeLaTeX 编译、build 目录输出、双向同步）
2. latexmk 编译配置
3. 注释说明关键配置项的作用

### 模板5：生成自动化构建脚本
基于上述规范，生成该 LaTeX 项目的自动化构建脚本：
1. Windows 系统：build.bat（latexmk 一键编译，输出到 build/）
2. Linux/Mac 系统：build.sh（权限、路径适配）
3. 脚本包含错误提示、编译完成提示